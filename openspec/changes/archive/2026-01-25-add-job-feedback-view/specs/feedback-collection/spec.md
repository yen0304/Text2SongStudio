# feedback-collection Specification Delta

## ADDED Requirements

### Requirement: Feedback Retrieval by Job

The system SHALL allow retrieval of feedback records associated with a specific generation job.

#### Scenario: Get feedback for a job

- **WHEN** a user requests feedback for a specific generation job ID
- **THEN** the system retrieves all feedback records for audio samples generated by that job
- **AND** returns feedback grouped by audio sample with sample labels (A, B, C, D)

#### Scenario: Get aggregated feedback stats for a job

- **WHEN** a user requests feedback for a completed job
- **THEN** the system returns aggregate statistics including:
  - Total feedback count
  - Average rating across all samples
  - Total samples with feedback
- **AND** individual feedback details per sample

#### Scenario: Handle job with no feedback

- **WHEN** a user requests feedback for a job that has no feedback records
- **THEN** the system returns an empty feedback list with zero counts
- **AND** does not return an error

#### Scenario: Handle non-existent job

- **WHEN** a user requests feedback for a non-existent job ID
- **THEN** the system returns a 404 not-found error

## MODIFIED Requirements

### Requirement: Feedback Retrieval

> Original: The system SHALL allow retrieval and filtering of feedback data.

#### Scenario: Filter feedback by job ID

- **WHEN** a user requests feedback filtered by job ID
- **THEN** the system returns only feedback for audio samples belonging to that job
- **AND** supports pagination for large result sets
- **AND** can be combined with other filters (rating, tags, date range)
